<!DOCTYPE html>

<html lang="zh-cn">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no"/>

    <title>颇忒脱的技术博客</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="https://chanjarster.github.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://chanjarster.github.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://chanjarster.github.io/favicon-16x16.png">
    <link rel="manifest" href="https://chanjarster.github.io/manifest.json">
    <link rel="mask-icon" href="https://chanjarster.github.io/safari-pinned-tab.svg" color="#FF3DB4">
    <meta name="theme-color" content="#ffffff">

    
    
    
    <link rel="stylesheet" href="https://chanjarster.github.io/css/main.min.03322cbe6bddfc28e7b17b84bc5446282a510b14b57be3371ba1f68ef1ab9ce8.css"/>

    
    
    

    
    
 
    
    
</head>
    <body>
        
<nav>
  <header>
    <div class="site-title">
        <a href="https://chanjarster.github.io/">颇忒脱的技术博客</a>
    </div>  
</header>
  <div class="nav-menu">
  
    <a class="color-link nav-link" href="https://chanjarster.github.io/">Home</a>
  
    <a class="color-link nav-link" href="https://chanjarster.github.io/tags/%E6%94%B6%E8%97%8F%E5%A4%B9/">Bookmarks</a>
  
    <a class="color-link nav-link" href="https://chanjarster.github.io/post/concurrent-programming/index-page">并发编程</a>
  
    <a class="color-link nav-link" href="https://chanjarster.github.io/post/mysql/index-page">MySQL</a>
  
    <a class="color-link nav-link" href="https://chanjarster.github.io/tags/go/">Go</a>
  
    <a class="color-link nav-link" href="https://github.com/chanjarster">Works</a>
  
    <a class="color-link nav-link" href="https://chanjarster.github.io/tags/">Tags</a>
  
  <a class="color-link nav-link" href="https://chanjarster.github.io/index.xml" target="_blank" rel="noopener" type="application/rss+xml">RSS</a>
</div>
<footer class="footer">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="chanjarster" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    

    

    

    

</div>




	<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
	<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>

	<script src="https://chanjarster.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
</nav>
        <div id="content" class="content-container">
        
<h1 class="post-title">Cracking Coding Interview - 4.12 Paths with Sum</h1>
    
    <time>August 16, 2019</time>
    
    <div>
        <p>
        <p><strong>Paths with Sum</strong>: You are given a binary tree in which each node contains an integer value (which might be positive or negative). Design an algorithm to count the number of paths that sum to a given value. The path does not need to start or end at the root or a leaf, but it must go downwards (traveling only from parent nodes to child nodes).</p>
<p>Hints: #6, #14, #52, #68, #77, #87, #94, #103, #108, #115</p>
<h2 id="解法1">解法1</h2>
<p>暴力解决：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">countPathWithSum</span><span style="color:#f92672">(</span>Node node<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> sum<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>node <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>
  <span style="color:#66d9ef">int</span> countFromRoot <span style="color:#f92672">=</span> countPathWithSumFromNode<span style="color:#f92672">(</span>node<span style="color:#f92672">,</span> sum<span style="color:#f92672">);</span>
  <span style="color:#66d9ef">int</span> countLeft <span style="color:#f92672">=</span> countPathWithSum<span style="color:#f92672">(</span>node<span style="color:#f92672">.</span><span style="color:#a6e22e">left</span><span style="color:#f92672">,</span> sum<span style="color:#f92672">);</span>
  <span style="color:#66d9ef">int</span> countRight <span style="color:#f92672">=</span> countPathWithSum<span style="color:#f92672">(</span>node<span style="color:#f92672">.</span><span style="color:#a6e22e">right</span><span style="color:#f92672">,</span> sum<span style="color:#f92672">);</span>
  <span style="color:#66d9ef">return</span> countFromRoot <span style="color:#f92672">+</span> countLeft <span style="color:#f92672">+</span> countRight<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">countPathWithSumFromNode</span><span style="color:#f92672">(</span>Node node<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> sum<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>node <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>
  <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>sum <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    count<span style="color:#f92672">++;</span>
  <span style="color:#f92672">}</span>
  count <span style="color:#f92672">+=</span> countPathWithSumFromNode<span style="color:#f92672">(</span>node<span style="color:#f92672">.</span><span style="color:#a6e22e">left</span><span style="color:#f92672">,</span> sum <span style="color:#f92672">-</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">data</span><span style="color:#f92672">);</span>
  count <span style="color:#f92672">+=</span> countPathWithSumFromNode<span style="color:#f92672">(</span>node<span style="color:#f92672">.</span><span style="color:#a6e22e">right</span><span style="color:#f92672">,</span> sum <span style="color:#f92672">-</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">data</span><span style="color:#f92672">);</span>
  <span style="color:#66d9ef">return</span> count<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>两种办法来计算时间复杂度：</p>
<p>思路一，如果现在位于深度为<code>d</code>的节点，那么意味着前面已经走了<code>d</code>步（看<code>countPathWithSumFromNode</code>）。在一棵平衡的树里，最大深度<code>d = logN</code>（N=节点数），然后我们对多少个节点做了这件事情呢（看<code>countPathWithSum</code>），答案是<code>N</code>。那么就是说总的调用次数不会超过 <code>d * N = N * logN</code>。</p>
<p>思路二：当在root的时候，我们遍历了N - 1次（看<code>countPathWithSum</code>里对<code>countPathWithSumFromNode</code>的调用），在第二层的时候，我们遍历了 N - 3 次，。。。。，所以：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">调用次数 = (N - 1) + (N - 3) + (N - 7) + (N - 15) + ... + (N - N)
           root      第2层     第3层      第4层            第d层
</code></pre></div><p>那么有几个子式子呢？在一颗平衡的树里就是深度d个，<code>d = logN</code>，所以</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">调用次数 = logN * N - (1 + 3 + 7 + 15 + ... + N)
</code></pre></div><p>后面的1、3、7、15其实就等于 2<sup>1</sup>- 1、2<sup>2</sup> - 1、2<sup>3</sup> - 1、2<sup>4</sup> - 1、&hellip;，忽略掉后面的-1，它们的和等于：</p>
<p>2 * (2<sup>d</sup> - 1) / (2 - 1) = 2 * 2<sup>d</sup> - 2 = 2 * N - 2，见<a href="https://baike.baidu.com/item/%E7%AD%89%E6%AF%94%E6%95%B0%E5%88%97%E6%B1%82%E5%92%8C%E5%85%AC%E5%BC%8F">等比数列求和公式</a></p>
<p>所以：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">调用次数 = logN * N - 2 * N + 2
        = logN * N
</code></pre></div><h2 id="相关问题">相关问题</h2>
<p>先看类似的问题：给你一个数组，里面数字有正数负数，给一个数字targetSum，让你求出有多少个子串能够累加值等于targetSum。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">index:      0     1     2     3     4     5     6     7     8
value:      10 -&gt; 5  -&gt; 1  -&gt; 2  -&gt; -1 -&gt; -1 -&gt; 7  -&gt; 1  -&gt; 2
runningSum: 10    15    16    18    17    16    23    24    26
</code></pre></div><p>如果 targetSum = 8，我们从index=0开始逐一往后，每次都是向前看，是否有子串能够sum == 8。比如我们现在已经跑到index=8了，那么有多少个子串sum == 8 呢？我们可以把 24 - 8 =16 看前面有多少个16。你可以发现array[2] == 16、array[5] == 16 ，这意味着什么呢？这意味着 array[3 ~ 8]和array[6 ~ 8]的和等于8。你可以看看是不是这样？</p>
<p>所以有了下面这个图解：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">|&lt;-          runningSumY        -&gt;|
|&lt;- runningSumX -&gt;|&lt;- targetSum -&gt;|
|-----------------|---------------|
s                 x               y

s: 起点下标
x: y之前的某个下标
y: 当前下标
</code></pre></div><p>所以这个问题就演变成为：我们找当前下标y前面的，有多少个x，能够使得[x + 1 到 y]之间的和等于targetSum。因为runningSumY和targetSum是已知的，所以就变成找有多少个runningSumX == runningSumY - targetSum。</p>
<p>那么我们就可以用一个Map来记录runningSum出现的次数。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">countTargetSum</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> array<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> targetSum<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
  Map<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> runningSumMap <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;();</span>
  <span style="color:#66d9ef">int</span> runningSum <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> array<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
    runningSum <span style="color:#f92672">+=</span> array<span style="color:#f92672">[</span>i<span style="color:#f92672">];</span>
    <span style="color:#75715e">// 增加runningSum的计数
</span><span style="color:#75715e"></span>    increment<span style="color:#f92672">(</span>runningSumMap<span style="color:#f92672">,</span> runningSum<span style="color:#f92672">);</span>
    <span style="color:#75715e">// 如果当前runningSum就等于targetSum，那么它必定是一个合格的子串
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>runningSum <span style="color:#f92672">==</span> targetSum<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
      count<span style="color:#f92672">++;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span> runningSum <span style="color:#f92672">-</span> targetSum<span style="color:#f92672">;</span>
    <span style="color:#75715e">// 看前面的runningSumX出现了几次
</span><span style="color:#75715e"></span>    count <span style="color:#f92672">+=</span> runningSumMap<span style="color:#f92672">.</span><span style="color:#a6e22e">getOrDefault</span><span style="color:#f92672">(</span>sum<span style="color:#f92672">,</span> 0<span style="color:#f92672">);</span>
  <span style="color:#f92672">}</span>
  <span style="color:#66d9ef">return</span> count<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">increment</span><span style="color:#f92672">(</span>Map<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> runningSumMap<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> runningSum<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> runningSumMap<span style="color:#f92672">.</span><span style="color:#a6e22e">getOrDefault</span><span style="color:#f92672">(</span>runningSum<span style="color:#f92672">,</span> 0<span style="color:#f92672">);</span>
  count<span style="color:#f92672">++;</span>
  runningSumMap<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span>runningSum<span style="color:#f92672">,</span> count<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="解法2">解法2</h2>
<p>从上面的这个数组的问题可以获得灵感：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">countPathsWithSum</span><span style="color:#f92672">(</span>Node node<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> targetSum<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> runningSum<span style="color:#f92672">,</span> Map<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> runningSumMap<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>node <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>
  <span style="color:#66d9ef">int</span> pathCount <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
  runningSum <span style="color:#f92672">+=</span> node<span style="color:#f92672">.</span><span style="color:#a6e22e">data</span><span style="color:#f92672">;</span>
  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>targetSum <span style="color:#f92672">==</span> runningSum<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    pathCount<span style="color:#f92672">++;</span>
  <span style="color:#f92672">}</span>
  <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span> runningSum <span style="color:#f92672">-</span> targetSum<span style="color:#f92672">;</span>
  pathCount <span style="color:#f92672">+=</span> runningSumMap<span style="color:#f92672">.</span><span style="color:#a6e22e">getOrDefault</span><span style="color:#f92672">(</span>sum<span style="color:#f92672">,</span> 0<span style="color:#f92672">);</span>
  
  increment<span style="color:#f92672">(</span>runningSumMap<span style="color:#f92672">,</span> runningSum<span style="color:#f92672">);</span>
  pathCount <span style="color:#f92672">+=</span> countPathsWithSum<span style="color:#f92672">(</span>node<span style="color:#f92672">.</span><span style="color:#a6e22e">left</span><span style="color:#f92672">,</span> targetSum<span style="color:#f92672">,</span> runningSum<span style="color:#f92672">,</span> runningSumMap<span style="color:#f92672">);</span>
  pathCount <span style="color:#f92672">+=</span> countPathsWithSum<span style="color:#f92672">(</span>node<span style="color:#f92672">.</span><span style="color:#a6e22e">right</span><span style="color:#f92672">,</span> targetSum<span style="color:#f92672">,</span> runningSum<span style="color:#f92672">,</span> runningSumMap<span style="color:#f92672">);</span>
  <span style="color:#75715e">// runningSumMap只能记录从根到当前节点的各种runningSum出现的次数
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 本调用返回后就回到了上一级，那么就要清除掉当前runningSum的计数
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 因为上一级只能看到更上级的runningSum计数
</span><span style="color:#75715e"></span>  decrement<span style="color:#f92672">(</span>runningSumMap<span style="color:#f92672">,</span> runningSum<span style="color:#f92672">);</span>
  <span style="color:#66d9ef">return</span> pathCount<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">increment</span><span style="color:#f92672">(</span>Map<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> runningSumMap<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> runningSum<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> runningSumMap<span style="color:#f92672">.</span><span style="color:#a6e22e">getOrDefault</span><span style="color:#f92672">(</span>runningSum<span style="color:#f92672">,</span> 0<span style="color:#f92672">);</span>
  count<span style="color:#f92672">++;</span>
  runningSumMap<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span>runningSum<span style="color:#f92672">,</span> count<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">decrement</span><span style="color:#f92672">(</span>Map<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> runningSumMap<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> runningSum<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> runningSumMap<span style="color:#f92672">.</span><span style="color:#a6e22e">getOrDefault</span><span style="color:#f92672">(</span>runningSum<span style="color:#f92672">);</span>
  count<span style="color:#f92672">--;</span>
  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>count <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    runningSumMap<span style="color:#f92672">.</span><span style="color:#a6e22e">remove</span><span style="color:#f92672">(</span>runningSum<span style="color:#f92672">);</span>    
  <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
    runningSumMap<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span>runningSum<span style="color:#f92672">,</span> count<span style="color:#f92672">);</span>    
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>时间复杂度：O(n)</p>
<p>空间复杂度：最高的空间复杂度是O(logN)，就是深度</p>
        </p>
    </div>
    

    <div class="page-footer">
        
        <hr class="footer-divider">
        
            <a class="tag" href="https://chanjarster.github.io/tags/arts">#ARTS</a>
        
            <a class="tag" href="https://chanjarster.github.io/tags/arts-a">#ARTS-A</a>
        
      
    </div>


        
        </div>
        <footer class="footer-mobile">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="chanjarster" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    

    

    

    

</div>




	<div class="footer-mobile-links">
		<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
		<span class="divider-bar">|</span>
		<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>
	</div>

	<script src="https://chanjarster.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
    </body>
</html>